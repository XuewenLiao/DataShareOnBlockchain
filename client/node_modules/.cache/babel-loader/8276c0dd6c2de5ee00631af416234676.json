{"ast":null,"code":"'use strict';\n\nconst configure = require('../lib/configure');\n\nconst Big = require('bignumber.js');\n\nconst CID = require('cids');\n\nmodule.exports = configure(({\n  ky\n}) => {\n  return async options => {\n    options = options || {};\n    const res = await ky.post('bitswap/stat', {\n      timeout: options.timeout,\n      signal: options.signal,\n      headers: options.headers,\n      searchParams: options.searchParams\n    }).json();\n    return toCoreInterface(res);\n  };\n});\n\nfunction toCoreInterface(res) {\n  return {\n    provideBufLen: res.ProvideBufLen,\n    wantlist: (res.Wantlist || []).map(k => new CID(k['/'])),\n    peers: res.Peers || [],\n    blocksReceived: new Big(res.BlocksReceived),\n    dataReceived: new Big(res.DataReceived),\n    blocksSent: new Big(res.BlocksSent),\n    dataSent: new Big(res.DataSent),\n    dupBlksReceived: new Big(res.DupBlksReceived),\n    dupDataReceived: new Big(res.DupDataReceived)\n  };\n}","map":null,"metadata":{},"sourceType":"script"}