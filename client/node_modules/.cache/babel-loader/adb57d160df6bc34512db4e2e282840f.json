{"ast":null,"code":"/* eslint-env browser */\nmodule.exports = source => async function* () {\n  const matcher = /\\r?\\n/;\n  const decoder = new TextDecoder('utf8');\n  let buffer = '';\n\n  for await (let chunk of source) {\n    if (typeof chunk === 'string') {\n      chunk = new TextEncoder().encode(chunk);\n    }\n\n    buffer += decoder.decode(chunk, {\n      stream: true\n    });\n    const parts = buffer.split(matcher);\n    buffer = parts.pop();\n\n    for (let i = 0; i < parts.length; i++) yield JSON.parse(parts[i]);\n  }\n\n  buffer += decoder.decode();\n  if (buffer) yield JSON.parse(buffer);\n}();","map":null,"metadata":{},"sourceType":"script"}