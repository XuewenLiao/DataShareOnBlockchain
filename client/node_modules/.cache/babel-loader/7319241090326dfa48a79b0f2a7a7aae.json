{"ast":null,"code":"var _jsxFileName = \"D:\\\\LXW\\\\truffle_proj\\\\qodpro\\\\dataTruffleSys\\\\client\\\\src\\\\views\\\\Product.js\";\n\nconst React = require('react');\n\nconst ipfsClient = require('ipfs-http-client');\n\nconst ipfs = ipfsClient('/ip4/127.0.0.1/tcp/5001');\nconst stringToUse = 'hello world from webpacked IPFS';\n\nclass Product extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: null,\n      version: null,\n      protocol_version: null,\n      added_file_hash: null,\n      added_file_contents: null\n    };\n  }\n\n  async componentDidMount() {\n    const id = await ipfs.id();\n    this.setState({\n      id: id.id,\n      version: id.agentVersion,\n      protocol_version: id.protocolVersion\n    });\n    const source = ipfs.add(stringToUse);\n\n    for await (const file of source) {\n      console.log(\"TCL: App -> forawait -> file\", file);\n      const hash = file.path;\n      this.setState({\n        added_file_hash: hash\n      });\n      console.log(\"file_hash: \", hash);\n      const source = ipfs.cat(hash);\n      const data = [];\n\n      for await (const chunk of source) {\n        data.push(chunk);\n      }\n\n      this.setState({\n        added_file_contents: Buffer.concat(data).toString()\n      });\n      console.log(\"file_contents: \", Buffer.concat(data).toString());\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Everything is working!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Your ID is \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, this.state.id)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Your IPFS version is \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, this.state.version)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Your IPFS protocol version is \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.state.protocol_version)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Added a file! \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), this.state.added_file_hash), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Contents of this file: \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), this.state.added_file_contents)));\n  }\n\n}\n\nmodule.exports = Product; // import React, { Component } from \"react\";\n// class Product extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = { };\n//   }\n//   render() {\n//     return (\n//         <div>\n//           Product\n//         </div>\n//     );\n//   }\n// }\n// export default Product;","map":{"version":3,"sources":["D:\\LXW\\truffle_proj\\qodpro\\dataTruffleSys\\client\\src\\views\\Product.js"],"names":["React","require","ipfsClient","ipfs","stringToUse","Product","Component","constructor","props","state","id","version","protocol_version","added_file_hash","added_file_contents","componentDidMount","setState","agentVersion","protocolVersion","source","add","file","console","log","hash","path","cat","data","chunk","push","Buffer","concat","toString","render","textAlign","module","exports"],"mappings":"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","sourcesContent":["const React = require('react')\r\nconst ipfsClient = require('ipfs-http-client')\r\n\r\nconst ipfs = ipfsClient('/ip4/127.0.0.1/tcp/5001')\r\nconst stringToUse = 'hello world from webpacked IPFS'\r\n\r\nclass Product extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      id: null,\r\n      version: null,\r\n      protocol_version: null,\r\n      added_file_hash: null,\r\n      added_file_contents: null\r\n    }\r\n  }\r\n  async componentDidMount () {\r\n    const id = await ipfs.id()\r\n    this.setState({\r\n      id: id.id,\r\n      version: id.agentVersion,\r\n      protocol_version: id.protocolVersion\r\n    })\r\n\r\n    const source = ipfs.add(stringToUse)\r\n    for await (const file of source) {\r\n      console.log(\"TCL: App -> forawait -> file\", file)\r\n      const hash = file.path\r\n      this.setState({ added_file_hash: hash })\r\n      console.log(\"file_hash: \",hash)\r\n\r\n      const source = ipfs.cat(hash)\r\n      const data = []\r\n      for await (const chunk of source) {\r\n        data.push(chunk)\r\n      }\r\n      this.setState({ added_file_contents: Buffer.concat(data).toString() })\r\n      console.log(\"file_contents: \",Buffer.concat(data).toString())\r\n    }\r\n  }\r\n  render () {\r\n    return <div style={{ textAlign: 'center' }}>\r\n      <h1>Everything is working!</h1>\r\n      <p>Your ID is <strong>{this.state.id}</strong></p>\r\n      <p>Your IPFS version is <strong>{this.state.version}</strong></p>\r\n      <p>Your IPFS protocol version is <strong>{this.state.protocol_version}</strong></p>\r\n      <div>\r\n        <div>\r\n          Added a file! <br />\r\n          {this.state.added_file_hash}\r\n        </div>\r\n        <div>\r\n          Contents of this file: <br />\r\n          {this.state.added_file_contents}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\nmodule.exports = Product\r\n\r\n\r\n// import React, { Component } from \"react\";\r\n\r\n// class Product extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = { };\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//         <div>\r\n//           Product\r\n//         </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default Product;\r\n"]},"metadata":{},"sourceType":"module"}